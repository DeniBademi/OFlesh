import { translateContainer } from "../core/translate-container";
import { translateConfigContainer } from "../core/translate-config-container";
import { BaseResolver } from "../resolver/base-resolver";
export function translate(config) {
    return function (target, propertyKey, parameterIndex) {
        let instanceConfig = translateContainer.defineProperty(target, propertyKey, config);
        if (translateConfigContainer.config && translateConfigContainer.config.preloadingStrategy && instanceConfig != undefined) {
            var baseResolver = new BaseResolver(translateConfigContainer.config, translateConfigContainer.httpClient);
            baseResolver.resolveGlobal(instanceConfig, false);
        }
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNsYXRlLmRlY29yYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL3RyYW5zbGF0ZS9kZWNvcmF0b3JzL3RyYW5zbGF0ZS5kZWNvcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDakUsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFDOUUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDJCQUEyQixDQUFBO0FBQ3hELE1BQU0sVUFBVSxTQUFTLENBQUMsTUFBd0I7SUFDOUMsT0FBTyxVQUNILE1BQVcsRUFDWCxXQUFtQixFQUFFLGNBQW9CO1FBRXpDLElBQUksY0FBYyxHQUFHLGtCQUFrQixDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFBO1FBQ25GLElBQUksd0JBQXdCLENBQUMsTUFBTSxJQUFJLHdCQUF3QixDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsSUFBSSxjQUFjLElBQUksU0FBUyxFQUFFO1lBQ3RILElBQUksWUFBWSxHQUFHLElBQUksWUFBWSxDQUFDLHdCQUF3QixDQUFDLE1BQU0sRUFBRSx3QkFBd0IsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUMxRyxZQUFZLENBQUMsYUFBYSxDQUFDLGNBQWMsRUFBQyxLQUFLLENBQUMsQ0FBQztTQUNwRDtJQUNMLENBQUMsQ0FBQTtBQUNMLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUcmFuc2xhdGVDb25maWcgfSBmcm9tIFwiLi4vaW50ZXJmYWNlL3RyYW5zbGF0ZS1jb25maWdcIjtcclxuaW1wb3J0IHsgdHJhbnNsYXRlQ29udGFpbmVyIH0gZnJvbSBcIi4uL2NvcmUvdHJhbnNsYXRlLWNvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyB0cmFuc2xhdGVDb25maWdDb250YWluZXIgfSBmcm9tIFwiLi4vY29yZS90cmFuc2xhdGUtY29uZmlnLWNvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBCYXNlUmVzb2x2ZXIgfSBmcm9tIFwiLi4vcmVzb2x2ZXIvYmFzZS1yZXNvbHZlclwiXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUoY29uZmlnPzogVHJhbnNsYXRlQ29uZmlnKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxyXG4gICAgICAgIHRhcmdldDogYW55LFxyXG4gICAgICAgIHByb3BlcnR5S2V5OiBzdHJpbmcsIHBhcmFtZXRlckluZGV4PzogYW55XHJcbiAgICApIHtcclxuICAgICAgICBsZXQgaW5zdGFuY2VDb25maWcgPSB0cmFuc2xhdGVDb250YWluZXIuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgY29uZmlnKVxyXG4gICAgICAgIGlmICh0cmFuc2xhdGVDb25maWdDb250YWluZXIuY29uZmlnICYmIHRyYW5zbGF0ZUNvbmZpZ0NvbnRhaW5lci5jb25maWcucHJlbG9hZGluZ1N0cmF0ZWd5ICYmIGluc3RhbmNlQ29uZmlnICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB2YXIgYmFzZVJlc29sdmVyID0gbmV3IEJhc2VSZXNvbHZlcih0cmFuc2xhdGVDb25maWdDb250YWluZXIuY29uZmlnLCB0cmFuc2xhdGVDb25maWdDb250YWluZXIuaHR0cENsaWVudCk7XHJcbiAgICAgICAgICAgIGJhc2VSZXNvbHZlci5yZXNvbHZlR2xvYmFsKGluc3RhbmNlQ29uZmlnLGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbiJdfQ==