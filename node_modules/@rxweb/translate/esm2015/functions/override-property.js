import { ActivatedRouteSnapshot } from "@angular/router";
import { ComponentGuard } from "../resolver";
export function overrideProperty() {
    Object.defineProperty(ActivatedRouteSnapshot.prototype, "routeConfig", {
        get: function () { return this.cloneSnap; },
        set: function (v) {
            this.cloneSnap = v;
            if (this.cloneSnap && !this.cloneSnap.canActivate) {
                this.cloneSnap.canActivate = [ComponentGuard];
            }
            else if (this.cloneSnap && this.cloneSnap.canActivate) {
                if (this.cloneSnap.canActivate.filter(t => t == ComponentGuard).length == 0) {
                    this.cloneSnap.canActivate.push(ComponentGuard);
                }
            }
            if (this.cloneSnap && this.cloneSnap.children) {
                if (this.cloneSnap && !this.cloneSnap.canActivateChild) {
                    this.cloneSnap.canActivateChild = [ComponentGuard];
                }
                else if (this.cloneSnap && this.cloneSnap.canActivateChild) {
                    if (this.cloneSnap.canActivateChild.filter(t => t == ComponentGuard).length == 0)
                        this.cloneSnap.canActivateChild.push(ComponentGuard);
                }
            }
        },
        enumerable: true,
        configurable: true
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3ZlcnJpZGUtcHJvcGVydHkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy90cmFuc2xhdGUvZnVuY3Rpb25zL292ZXJyaWRlLXByb3BlcnR5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFN0MsTUFBTSxVQUFVLGdCQUFnQjtJQUM1QixNQUFNLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFDLFNBQVMsRUFBRSxhQUFhLEVBQUU7UUFDbkUsR0FBRyxFQUFFLGNBQWMsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUMzQyxHQUFHLEVBQUUsVUFBVSxDQUFDO1lBQ1osSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7WUFDbkIsSUFBSSxJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUU7Z0JBQy9DLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUM7YUFDakQ7aUJBQ0ksSUFBSSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFO2dCQUNuRCxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxjQUFjLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO29CQUN6RSxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7aUJBQ25EO2FBRUo7WUFDRCxJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUU7Z0JBQzNDLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLEVBQUU7b0JBQ3BELElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztpQkFDdEQ7cUJBQ0ksSUFBSSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLEVBQUU7b0JBQ3hELElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUcsY0FBYyxDQUFDLENBQUMsTUFBTSxJQUFJLENBQUM7d0JBQzNFLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO2lCQUM1RDthQUNKO1FBQ0wsQ0FBQztRQUNELFVBQVUsRUFBRSxJQUFJO1FBQ2hCLFlBQVksRUFBRSxJQUFJO0tBQ3JCLENBQUMsQ0FBQTtBQUNOLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90IH0gZnJvbSBcIkBhbmd1bGFyL3JvdXRlclwiO1xyXG5pbXBvcnQgeyBDb21wb25lbnRHdWFyZCB9IGZyb20gXCIuLi9yZXNvbHZlclwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJyaWRlUHJvcGVydHkoKSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWN0aXZhdGVkUm91dGVTbmFwc2hvdC5wcm90b3R5cGUsIFwicm91dGVDb25maWdcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5jbG9uZVNuYXA7IH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICB0aGlzLmNsb25lU25hcCA9IHY7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNsb25lU25hcCAmJiAhdGhpcy5jbG9uZVNuYXAuY2FuQWN0aXZhdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvbmVTbmFwLmNhbkFjdGl2YXRlID0gW0NvbXBvbmVudEd1YXJkXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNsb25lU25hcCAmJiB0aGlzLmNsb25lU25hcC5jYW5BY3RpdmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xvbmVTbmFwLmNhbkFjdGl2YXRlLmZpbHRlcih0ID0+IHQgPT0gQ29tcG9uZW50R3VhcmQpLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9uZVNuYXAuY2FuQWN0aXZhdGUucHVzaChDb21wb25lbnRHdWFyZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNsb25lU25hcCAmJiB0aGlzLmNsb25lU25hcC5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xvbmVTbmFwICYmICF0aGlzLmNsb25lU25hcC5jYW5BY3RpdmF0ZUNoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9uZVNuYXAuY2FuQWN0aXZhdGVDaGlsZCA9IFtDb21wb25lbnRHdWFyZF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNsb25lU25hcCAmJiB0aGlzLmNsb25lU25hcC5jYW5BY3RpdmF0ZUNoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xvbmVTbmFwLmNhbkFjdGl2YXRlQ2hpbGQuZmlsdGVyKHQgPT4gdD09IENvbXBvbmVudEd1YXJkKS5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9uZVNuYXAuY2FuQWN0aXZhdGVDaGlsZC5wdXNoKENvbXBvbmVudEd1YXJkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pXHJcbn0iXX0=